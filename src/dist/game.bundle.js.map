{"version":3,"sources":["webpack:///webpack/bootstrap b15e40245d3b93d9f069","webpack:///./src/pages/game/game.js","webpack:///./src/pages/game/gameModel.js","webpack:///./src/pages/game/gameView.js","webpack:///./src/service/properFractionService.js","webpack:///./src/service/complexFractionService.js","webpack:///./src/utils/numberUtils.js","webpack:///./src/entities/fraction.js","webpack:///./src/pages/game/gameController.js","webpack:///./~/draggabilly/draggabilly.js","webpack:///./~/get-size/get-size.js","webpack:///./~/unidragger/unidragger.js","webpack:///./~/unipointer/unipointer.js","webpack:///./~/ev-emitter/ev-emitter.js","webpack:///./src/utils/arrayUtils.js"],"names":["gameController","GameController","gameModel","GameModel","gameView","GameView","init","$","view","gameStart","gameFinish","gameName","complexFractions","round","currentComplexFraction","pfList","isPFinAnswerBlock","userAnswer","isAnswerCorrect","setGameStart","Date","now","localStorage","lastGameScore","getGameFinish","getGameStart","getSeconds","previousGameScore","setCurrentComplexFraction","pf","push","pfDraggable","makeDraggableCopyPF","positionPFinAnswerBlock","$element","detach","fraction","showUserAnswer","isAnswerRight","result","showAnswer","content","model","showGameName","drawComplexFractions","makeComplexFractionActive","document","contains","append","getGameName","self","cfDiv","forEach","cf","e","showComplexFraction","addClass","complexFraction","integer","numerator","html","denominator","pfService","ProperFractionService","currentCF","getCurrentComplexFraction","getRound","properFractions","generateProperFractions","length","setGameFinish","window","location","hash","style","transform","display","drawProperFraction","properFraction","canvas","pfDOM","radius","copy","nextSibling","before","prevSibling","after","parent","setAttribute","context","beginAngle","Math","PI","angle360","getContext","innerWidth","beginPath","fillStyle","arc","lineTo","fill","strokeStyle","stroke","closePath","setPfinPfList","pfCopy","getAttribute","next","prev","inputBlockRect","getBoundingClientRect","getIsPFinAnswerBlock","element","left","top","bottom","height","setPFinAnswerBlock","answer","getUserAnswer","css","getIsAnswerCorrect","makeComplexFractionInactive","remove","setTimeout","removeClass","properFractionService","typeOfGame","Object","assign","cfService","ComplexFractionService","multiplyComplexFraction","divideComplexFraction","console","log","complexFractionService","calculationType","dataForDoubleIt","amount","minInteger","maxInteger","minNumerator","maxNumerator","dataForTrippleIt","dataForFindOneHalf","dataForFindOneThird","data","denominators","randomDenominator","i","NumberUtils","getRandomInteger","Fraction","checkingMultiplicity","biggestCommonDivider","numeratorMultiples","findMultiples","denominatorMultiples","commonDividers","filter","commonDivider","indexOf","numeratorPrime","cd","splice","reduce","reducer","divider","multiplier","floor","number","nextPrime","j","primes","findPrimes","min","max","random","arrayOfMaps","commonMultiples","Map","map","value","key","has","get","set","pow","observeProperFractionBlock","generateGame","submitAnswer","game","gameSettings","setGameName","setComplexFractions","generateComplexFractions","properFractionDOM","dragabillySetting","grid","Draggabilly","on","event","pointer","isDragStartInAnswerBlock","pageX","pageXOffset","right","pageY","pageYOffset","findSum","disable","setPFinProperFractionBlock","target","makeProperFractionDraggable","pfAnswer","commonDenominator","numeratorsSum","integersSum","setUserAnswer","ArrayUtils","arrayToMap","findLowestCommonDenominator","setIsAnswerCorrect","addEventListener","checkAnswer","array"],"mappings":"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hE,c;;;;;;ACLrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CACA;AACA;AACA,QAAO;AACP,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA2B;AAC3B;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAqB;AACrB,qBAAoB;;AAEpB,kCAAiC;;AAEjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAC;;;;;;;AC5bD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA,EAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,iBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,EAAC;;;;;;;AC9MD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,yBAAyB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,EAAC;;;;;;;ACtRD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAC;;;;;;;AC5SD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA,EAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC;;;;;;;;;;;;;;;;;KC/GoB2N,U;;;;;;;gCACDM,K,EAAO;AACvB,WAAM5C,MAAM,IAAID,GAAJ,EAAZ;AACA6C,aAAM9K,OAAN,CAAc,mBAAW;AACvB,aAAIkI,IAAIG,GAAJ,CAAQzE,OAAR,CAAJ,EAAsB;AACpBsE,eAAIK,GAAJ,CAAQ3E,OAAR,EAAiBsE,IAAII,GAAJ,CAAQ1E,OAAR,IAAmB,CAApC;AACD,UAFD,MAEO;AACLsE,eAAIK,GAAJ,CAAQ3E,OAAR,EAAiB,CAAjB;AACD;AACF,QAND;AAOA,cAAOsE,GAAP;AACD;;;;;;mBAXkBsC,U","file":"dist/game.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b15e40245d3b93d9f069","import GameModel from \"./gameModel.js\";\r\nimport GameView from \"./gameView.js\";\r\nimport GameController from \"./gameController.js\";\r\n\r\nlet gameController = new GameController(),\r\n  gameModel = new GameModel(),\r\n  gameView = new GameView();\r\n\r\ngameModel.init(gameView);\r\ngameController.init($(\"#content\"), gameModel);\r\ngameView.init($(\"#content\"), gameModel);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/game.js","export default class GameModel {\r\n  init(view) {\r\n    this.view = view;\r\n\r\n    this.gameStart = null;\r\n    this.gameFinish = null;\r\n\r\n    this.gameName = null;\r\n    this.complexFractions = [];\r\n    this.round = -1;\r\n    this.currentComplexFraction = this.complexFractions[this.round];\r\n\r\n    this.pfList = [];\r\n    this.isPFinAnswerBlock = null;\r\n\r\n    this.userAnswer = null;\r\n    this.isAnswerCorrect = false;\r\n\r\n    this.setGameStart();\r\n  }\r\n\r\n  getGameStart() {\r\n    return this.gameStart;\r\n  }\r\n\r\n  setGameStart() {\r\n    this.gameStart = Date.now();\r\n  }\r\n\r\n  getGameFinish() {\r\n    return this.gameFinish;\r\n  }\r\n\r\n  setGameFinish() {\r\n    this.gameFinish = Date.now();\r\n    if (!localStorage.lastGameScore) {\r\n      localStorage.lastGameScore = new Date(\r\n        this.getGameFinish() - this.getGameStart()\r\n      ).getSeconds();\r\n    } else {\r\n      localStorage.previousGameScore = localStorage.lastGameScore;\r\n      localStorage.lastGameScore = new Date(\r\n        this.getGameFinish() - this.getGameStart()\r\n      ).getSeconds();\r\n    }\r\n  }\r\n\r\n  getGameName() {\r\n    return this.gameName;\r\n  }\r\n\r\n  setGameName(gameName) {\r\n    this.gameName = gameName;\r\n  }\r\n\r\n  getComplexFractions() {\r\n    return this.complexFractions;\r\n  }\r\n\r\n  setComplexFractions(complexFractions) {\r\n    this.complexFractions = complexFractions;\r\n    this.setCurrentComplexFraction();\r\n  }\r\n\r\n  getRound() {\r\n    return this.round;\r\n  }\r\n\r\n  getCurrentComplexFraction() {\r\n    return this.currentComplexFraction;\r\n  }\r\n\r\n  setCurrentComplexFraction() {\r\n    this.currentComplexFraction = this.complexFractions[++this.round];\r\n  }\r\n\r\n  getPfList() {\r\n    return this.pfList;\r\n  }\r\n\r\n  setPfinPfList(pf) {\r\n    this.pfList.push(pf);\r\n  }\r\n\r\n  getIsPFinAnswerBlock() {\r\n    return this.isPFinAnswerBlock;\r\n  }\r\n\r\n  setPFinAnswerBlock(pfDraggable) {\r\n    this.isPFinAnswerBlock = pfDraggable;\r\n    if (pfDraggable !== null) {\r\n      this.view.makeDraggableCopyPF(pfDraggable);\r\n      this.view.positionPFinAnswerBlock();\r\n    }\r\n  }\r\n  setPFinProperFractionBlock(pfDraggable) {\r\n    this.view.makeDraggableCopyPF(pfDraggable);\r\n    pfDraggable.$element.detach();\r\n  }\r\n\r\n  getUserAnswer() {\r\n    return this.userAnswer;\r\n  }\r\n\r\n  setUserAnswer(fraction) {\r\n    this.userAnswer = fraction;\r\n    this.view.showUserAnswer();\r\n  }\r\n\r\n  getIsAnswerCorrect() {\r\n    return this.isAnswerRight;\r\n  }\r\n\r\n  setIsAnswerCorrect(result) {\r\n    this.isAnswerRight = result;\r\n    this.view.showAnswer();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/gameModel.js","import ProperFractionService from \"./../../service/properFractionService.js\";\r\n\r\nexport default class GameView {\r\n  init(content, model) {\r\n    this.content = content;\r\n    this.model = model;\r\n\r\n    this.showGameName();\r\n    this.drawComplexFractions(this.model.complexFractions);\r\n    this.makeComplexFractionActive();\r\n  }\r\n\r\n  showGameName() {\r\n    if (document.contains($(\".gameName\")[0])) {\r\n      $(\".gameName\")[0].append(this.model.getGameName());\r\n    }\r\n  }\r\n\r\n  drawComplexFractions(complexFractions) {\r\n    let self = this,\r\n      cfDiv;\r\n    complexFractions.forEach((cf, e) => {\r\n      cfDiv = self.showComplexFraction(cf);\r\n      if (document.contains($(\".complexFractionsBlock\")[0])) {\r\n        $(\".complexFractionsBlock\")[0].append(cfDiv[0]);\r\n      }\r\n      cfDiv.addClass(\"roundDiv\");\r\n    });\r\n  }\r\n\r\n  showComplexFraction(complexFraction) {\r\n    let cfDiv = $(\"<div></div>\");\r\n    if (\r\n      complexFraction.integer <= 9 &&\r\n      complexFraction.integer !== 0 &&\r\n      complexFraction.numerator > 0\r\n    ) {\r\n      cfDiv.html(\r\n        \"<div class='complexFraction'><span class='integerTo9'>\" +\r\n          complexFraction.integer +\r\n          \"</span><div class='fullFractionTo9'><span class='numerator'>\" +\r\n          complexFraction.numerator +\r\n          \"</span><span class='denominator'>\" +\r\n          complexFraction.denominator +\r\n          \"</span></div></div>\"\r\n      );\r\n    } else if (complexFraction.integer > 9 && complexFraction.numerator > 0) {\r\n      cfDiv.html(\r\n        \"<div class='complexFraction'><span class='integerFrom10'>\" +\r\n          complexFraction.integer +\r\n          \"</span><div class='fullFractionFrom10'><span class='numerator'>\" +\r\n          complexFraction.numerator +\r\n          \"</span><span class='denominator'>\" +\r\n          complexFraction.denominator +\r\n          \"</span></div></div>\"\r\n      );\r\n    } else if (\r\n      complexFraction.integer <= 9 &&\r\n      complexFraction.numerator === 0\r\n    ) {\r\n      cfDiv.html(\r\n        \"<div class='complexFraction'><span class='noProperFractionTo9'>\" +\r\n          complexFraction.integer +\r\n          \"</span></div>\"\r\n      );\r\n    } else if (complexFraction.integer > 9 && complexFraction.numerator === 0) {\r\n      cfDiv.html(\r\n        \"<div class='complexFraction'><span class='noProperFractionFrom10'>\" +\r\n          complexFraction.integer +\r\n          \"</span></div>\"\r\n      );\r\n    } else if (complexFraction.integer === 0) {\r\n      cfDiv.html(\r\n        \"<div class='complexFraction'><div class='noInteger'><span class='numeratorNoInt'>\" +\r\n          complexFraction.numerator +\r\n          \"</span><span class='denominatorNoInt'>\" +\r\n          complexFraction.denominator +\r\n          \"</span></div></div>\"\r\n      );\r\n    }\r\n    return cfDiv;\r\n  }\r\n\r\n  makeComplexFractionActive() {\r\n    let pfService = new ProperFractionService(),\r\n      currentCF = this.model.getCurrentComplexFraction(),\r\n      round = this.model.getRound(),\r\n      properFractions = pfService.generateProperFractions(\r\n        currentCF,\r\n        this.model.getGameName()\r\n      );\r\n\r\n    if (round >= this.model.complexFractions.length) {\r\n      this.model.setGameFinish();\r\n      window.location.hash = \"#score\";\r\n      return;\r\n    } else {\r\n      if (document.contains($(\".roundDiv\")[round])) {\r\n        $(\".roundDiv\")[round].style.transform = \"scale(3)\";\r\n      }\r\n      if (document.contains($(\".complexFraction\")[round])) {\r\n        $(\".complexFraction\")[round].style.display = \"block\";\r\n      }\r\n      properFractions.forEach(pf => this.drawProperFraction(pf));\r\n    }\r\n  }\r\n\r\n  makeComplexFractionInactive() {\r\n    let round = this.model.getRound();\r\n    $(\".roundDiv\")[round].style.transform = \"scale(1)\";\r\n    $(\".complexFraction\")[round].style.display = \"none\";\r\n  }\r\n\r\n  drawProperFraction(properFraction) {\r\n    let canvas, pfDOM, radius;\r\n    if (properFraction.copy) {\r\n      if (properFraction.nextSibling.length) {\r\n        $(properFraction.nextSibling).before(\"<div class=properFraction>\");\r\n      } else {\r\n        $(properFraction.prevSibling).after(\"<div class=properFraction>\");\r\n      }\r\n      $(\".properFraction:not(:has(canvas))\").append(\"<canvas></canvas>\");\r\n      canvas = $(\"canvas:not(.drawn)\")[0];\r\n    } else {\r\n      $(\".properFractionsBlock\").append(\"<div class=properFraction>\");\r\n      $(\".properFraction:last-child\").append(\"<canvas></canvas>\");\r\n      canvas = $(\"canvas\")[$(\"canvas\").length - 1];\r\n    }\r\n\r\n    pfDOM = $(canvas).parent()[0];\r\n    if (document.contains(pfDOM)) {\r\n      pfDOM.setAttribute(\"data-integer\", properFraction.integer);\r\n      pfDOM.setAttribute(\"data-numerator\", properFraction.numerator);\r\n      pfDOM.setAttribute(\"data-denominator\", properFraction.denominator);\r\n    }\r\n\r\n    let context,\r\n      beginAngle = Math.PI * 1.5,\r\n      angle360 = Math.PI * 2;\r\n\r\n    if (document.contains(canvas)) {\r\n      context = canvas.getContext(\"2d\");\r\n      canvas.setAttribute(\"width\", \"100px\");\r\n      canvas.setAttribute(\"height\", \"100px\");\r\n\r\n      if (window.innerWidth > 600) {\r\n        radius = 30;\r\n        canvas.setAttribute(\"width\", \"100px\");\r\n        canvas.setAttribute(\"height\", \"100px\");\r\n      } else {\r\n        radius = 20;\r\n        canvas.setAttribute(\"width\", \"85px\");\r\n        canvas.setAttribute(\"height\", \"85px\");\r\n      }\r\n\r\n      context.beginPath();\r\n      context.fillStyle = \"rgb(230, 242, 254)\";\r\n\r\n      if (properFraction.integer === 1) {\r\n        context.arc(50, 50, radius, beginAngle, beginAngle + angle360);\r\n      }\r\n\r\n      context.arc(\r\n        50,\r\n        50,\r\n        radius,\r\n        beginAngle,\r\n        beginAngle +\r\n          (angle360 / properFraction.denominator) * properFraction.numerator\r\n      );\r\n      context.lineTo(50, 50);\r\n      context.fill();\r\n\r\n      context.strokeStyle = \"rgb(230, 242, 254)\";\r\n      context.arc(50, 50, radius, beginAngle, beginAngle + angle360);\r\n      context.stroke();\r\n      context.closePath();\r\n\r\n      $(canvas).addClass(\"drawn\");\r\n    }\r\n\r\n    this.model.setPfinPfList(pfDOM);\r\n\r\n    return pfDOM;\r\n  }\r\n\r\n  makeDraggableCopyPF(pfDraggable) {\r\n    var pfDOM = pfDraggable.$element[0];\r\n    const pfCopy = {\r\n      integer: +pfDOM.getAttribute(\"data-integer\"),\r\n      numerator: +pfDOM.getAttribute(\"data-numerator\"),\r\n      denominator: +pfDOM.getAttribute(\"data-denominator\"),\r\n      copy: true,\r\n      nextSibling: $(pfDOM).next(),\r\n      prevSibling: $(pfDOM).prev()\r\n    };\r\n    this.drawProperFraction(pfCopy);\r\n  }\r\n\r\n  positionPFinAnswerBlock() {\r\n    let inputBlockRect = $(\".answerBlock\")[0].getBoundingClientRect(),\r\n      pfDraggable = this.model.getIsPFinAnswerBlock();\r\n    if (pfDraggable !== null) {\r\n      $(\".answerBlock\").append(pfDraggable.element);\r\n      pfDraggable.element.style.left = \"0px\";\r\n      pfDraggable.element.style.top = \"20px\";\r\n      if (\r\n        inputBlockRect.bottom <\r\n        pfDraggable.element.getBoundingClientRect().bottom\r\n      ) {\r\n        $(\".answerBlock\")[0].style.height =\r\n          pfDraggable.element.getBoundingClientRect().top -\r\n          $(\".answerBlock\")[0].getBoundingClientRect().top +\r\n          110 +\r\n          \"px\";\r\n      }\r\n      this.model.setPFinAnswerBlock(null);\r\n      return true;\r\n    }\r\n  }\r\n\r\n  showUserAnswer() {\r\n    let answer = this.model.getUserAnswer(),\r\n      cfDiv;\r\n    if (answer) {\r\n      cfDiv = this.showComplexFraction(answer);\r\n      $(\".total\").css(\"display\", \"block\");\r\n      $(\".total\").html(\"\");\r\n      cfDiv.addClass(\"roundDiv animated fadeIn\");\r\n      $(\".total\")[0].append(cfDiv[0]);\r\n      $(\".total .roundDiv div\").css(\"display\", \"block\");\r\n      $(\".total\")[0].style.transform = \"scale(3)\";\r\n    } else {\r\n      $(\".total\")[0].style.transform = \"scale(0)\";\r\n      $(\".total\").css(\"display\", \"none\");\r\n    }\r\n  }\r\n\r\n  showAnswer() {\r\n    let result = this.model.getIsAnswerCorrect();\r\n    if (result) {\r\n      $(\".submitAnswer\").addClass(\"animated heartBeat\");\r\n      this.makeComplexFractionInactive();\r\n      $(\".answerBlock div\").remove();\r\n      $(\".properFractionsBlock div\").remove();\r\n      $(\".total\").html(\"\");\r\n      this.model.setCurrentComplexFraction();\r\n      this.makeComplexFractionActive();\r\n      $(\".answerBlock\").css(\"height\", \"150px\");\r\n      $(\".submitAnswer\").css({ \"border-color\": \"MediumSeaGreen\" });\r\n      setTimeout(() => {\r\n        $(\".submitAnswer\").removeClass(\"animated heartBeat\");\r\n        $(\".submitAnswer\").css({ \"border-color\": \"#dae9e3\" });\r\n      }, 1000);\r\n      return true;\r\n    } else {\r\n      $(\".submitAnswer\").addClass(\"animated shake\");\r\n      $(\".submitAnswer\").css({ \"border-color\": \"tomato\" });\r\n      setTimeout(() => {\r\n        $(\".submitAnswer\").removeClass(\"animated shake\");\r\n        $(\".submitAnswer\").css({ \"border-color\": \"#dae9e3\" });\r\n      }, 1000);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/gameView.js","import ComplexFractionService from \"./complexFractionService.js\";\r\n\r\nexport default class properFractionService {\r\n  generateProperFractions(complexFraction, typeOfGame) {\r\n    let cf = Object.assign({}, complexFraction),\r\n      cfService = new ComplexFractionService(),\r\n      answer,\r\n      properFractions = [\r\n        {\r\n          integer: 1,\r\n          numerator: 0,\r\n          denominator: cf.denominator\r\n        },\r\n        {\r\n          integer: 0,\r\n          numerator: 1,\r\n          denominator: cf.denominator\r\n        }\r\n      ];\r\n\r\n    switch (typeOfGame) {\r\n      case \"double it\":\r\n        answer = cfService.multiplyComplexFraction(cf, 2);\r\n        break;\r\n      case \"tripple it\":\r\n        answer = cfService.multiplyComplexFraction(cf, 3);\r\n        break;\r\n      case \"find one-half\":\r\n        answer = cfService.divideComplexFraction(cf, 2);\r\n        break;\r\n      case \"find one-third\":\r\n        answer = cfService.divideComplexFraction(cf, 3);\r\n        break;\r\n      default:\r\n        console.log(\"error in proper fraction generating\");\r\n        return;\r\n    }\r\n    if (answer.denominator !== cf.denominator) {\r\n      properFractions[0].denominator = answer.denominator;\r\n      properFractions.push({\r\n        integer: 0,\r\n        numerator: 1,\r\n        denominator: answer.denominator\r\n      });\r\n    } else if (answer.denominator === cf.denominator && cf.denominator === 2) {\r\n      properFractions.push({\r\n        integer: 0,\r\n        numerator: 1,\r\n        denominator: 3\r\n      });\r\n    } else if (answer.denominator === cf.denominator && cf.denominator === 3) {\r\n      properFractions.push({\r\n        integer: 0,\r\n        numerator: 1,\r\n        denominator: 2\r\n      });\r\n    } else {\r\n      properFractions.push({\r\n        integer: 0,\r\n        numerator: 1,\r\n        denominator: cf.denominator - 1\r\n      });\r\n    }\r\n\r\n    return properFractions;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/properFractionService.js","import NumberUtils from \"./../utils/numberUtils.js\";\r\nimport Fraction from \"./../entities/fraction.js\";\r\n\r\nexport default class complexFractionService {\r\n  generateComplexFractions(calculationType) {\r\n    const dataForDoubleIt = {\r\n      amount: 6,\r\n      minInteger: 0,\r\n      maxInteger: 4,\r\n      minNumerator: 0,\r\n      maxNumerator: 8\r\n    };\r\n    const dataForTrippleIt = {\r\n      amount: 6,\r\n      minInteger: 0,\r\n      maxInteger: 4,\r\n      minNumerator: 0,\r\n      maxNumerator: 4\r\n    };\r\n    const dataForFindOneHalf = {\r\n      amount: 6,\r\n      minInteger: 0,\r\n      maxInteger: 13,\r\n      minNumerator: 0,\r\n      maxNumerator: 3\r\n    };\r\n    const dataForFindOneThird = {\r\n      amount: 6,\r\n      minInteger: 0,\r\n      maxInteger: 15,\r\n      minNumerator: 0,\r\n      maxNumerator: 3\r\n    };\r\n\r\n    let data, denominators;\r\n    switch (calculationType) {\r\n      case \"double it\":\r\n        data = dataForDoubleIt;\r\n        denominators = [2, 3, 4, 6, 8];\r\n        break;\r\n      case \"tripple it\":\r\n        data = dataForTrippleIt;\r\n        denominators = [2, 3, 4, 6, 8];\r\n        break;\r\n      case \"find one-half\":\r\n        data = dataForFindOneHalf;\r\n        denominators = [2, 3, 4];\r\n        break;\r\n      case \"find one-third\":\r\n        data = dataForFindOneThird;\r\n        denominators = [2, 4, 8];\r\n        break;\r\n      default:\r\n        console.log(\"error in generating complex fraction\");\r\n        return;\r\n    }\r\n\r\n    let amount = data.amount,\r\n      integer,\r\n      numerator,\r\n      randomDenominator,\r\n      denominator,\r\n      complexFraction,\r\n      complexFractions = [];\r\n\r\n    for (let i = 0; i <= amount; i++) {\r\n      integer = NumberUtils.getRandomInteger(data.minInteger, data.maxInteger);\r\n      numerator = NumberUtils.getRandomInteger(\r\n        data.minNumerator,\r\n        data.maxNumerator\r\n      );\r\n\r\n      randomDenominator = NumberUtils.getRandomInteger(\r\n        0,\r\n        denominators.length - 1\r\n      );\r\n      denominator = denominators[randomDenominator];\r\n\r\n      while (numerator >= denominator) {\r\n        numerator = NumberUtils.getRandomInteger(\r\n          data.minNumerator,\r\n          data.maxNumerator\r\n        );\r\n      }\r\n\r\n      while (integer === 0 && numerator === 0) {\r\n        integer = NumberUtils.getRandomInteger(\r\n          data.minInteger,\r\n          data.maxInteger\r\n        );\r\n        numerator = NumberUtils.getRandomInteger(\r\n          data.minNumerator,\r\n          data.maxNumerator\r\n        );\r\n\r\n        while (numerator >= denominator) {\r\n          numerator = NumberUtils.getRandomInteger(\r\n            data.minNumerator,\r\n            data.maxNumerator\r\n          );\r\n        }\r\n\r\n        if (integer !== 0 && numerator === 0) {\r\n          denominator = 2;\r\n        }\r\n      }\r\n\r\n      complexFraction = new Fraction(integer, numerator, denominator);\r\n      complexFractions.push(complexFraction);\r\n    }\r\n\r\n    complexFractions.forEach(cf => this.checkingMultiplicity(cf));\r\n\r\n    return complexFractions;\r\n  }\r\n\r\n  checkingMultiplicity(complexFraction) {\r\n    let cf = Object.assign({}, complexFraction),\r\n      result = Object.assign({}, complexFraction),\r\n      biggestCommonDivider,\r\n      numeratorMultiples = NumberUtils.findMultiples(cf.numerator),\r\n      denominatorMultiples = NumberUtils.findMultiples(cf.denominator),\r\n      commonDividers = numeratorMultiples.filter(numeratorPrime => {\r\n        var commonDivider = denominatorMultiples.indexOf(numeratorPrime) >= 0;\r\n        if (commonDivider) {\r\n          var cd = denominatorMultiples.indexOf(numeratorPrime);\r\n          denominatorMultiples.splice(cd, 1);\r\n          return true;\r\n        }\r\n      });\r\n\r\n    if (commonDividers.length) {\r\n      biggestCommonDivider = commonDividers.reduce((reducer, divider) => {\r\n        return reducer * divider;\r\n      }, 1);\r\n      result.numerator /= biggestCommonDivider;\r\n      result.denominator /= biggestCommonDivider;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  multiplyComplexFraction(complexFraction, multiplier) {\r\n    let cf = Object.assign({}, complexFraction),\r\n      result = {};\r\n\r\n    result.denominator = cf.denominator;\r\n    cf.numerator = (cf.numerator + cf.integer * cf.denominator) * multiplier;\r\n    result.integer = Math.floor(cf.numerator / cf.denominator);\r\n    result.numerator =\r\n      cf.numerator - Math.floor(result.integer * cf.denominator);\r\n    return this.checkingMultiplicity(result);\r\n  }\r\n\r\n  divideComplexFraction(complexFraction, divider) {\r\n    let cf = Object.assign({}, complexFraction),\r\n      result = {};\r\n\r\n    cf.numerator = cf.numerator + cf.integer * cf.denominator;\r\n    result.denominator = cf.denominator * divider;\r\n    result.integer = Math.floor(cf.numerator / result.denominator);\r\n    result.numerator =\r\n      cf.numerator - Math.floor(result.integer * result.denominator);\r\n    return this.checkingMultiplicity(result);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/complexFractionService.js","export default class NumberUtils {\r\n  static findPrimes(number) {\r\n    let result = [];\r\n    nextPrime: for (let i = 2; i <= number; i++) {\r\n      for (let j = 2; j < i; j++) {\r\n        if (i % j === 0) continue nextPrime;\r\n      }\r\n      result.push(i);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static findMultiples(number) {\r\n    let result = [],\r\n      primes = this.findPrimes(number);\r\n    for (let i = 0; i < primes.length; i++) {\r\n      if (number % primes[i] === 0) {\r\n        result.push(primes[i]);\r\n        number /= primes[i];\r\n        --i;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static getRandomInteger(min, max) {\r\n    return Math.floor(min + Math.random() * (max + 1 - min));\r\n  }\r\n\r\n  static findLowestCommonDenominator(arrayOfMaps) {\r\n    const commonMultiples = new Map();\r\n    let result = 1;\r\n    arrayOfMaps.forEach(map => {\r\n      map.forEach((value, key) => {\r\n        if (commonMultiples.has(key)) {\r\n          if (commonMultiples.get(key) < value) {\r\n            commonMultiples.set(key, value);\r\n          }\r\n        } else {\r\n          commonMultiples.set(key, value);\r\n        }\r\n      });\r\n    });\r\n    commonMultiples.forEach((value, key) => {\r\n      result *= Math.pow(key, value);\r\n    });\r\n    return result;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/numberUtils.js","export default class Fraction {\r\n  constructor(integer, numerator, denominator) {\r\n    this.integer = integer;\r\n    this.numerator = numerator;\r\n    this.denominator = denominator;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entities/fraction.js","import Draggabilly from \"draggabilly\";\r\nimport ComplexFractionService from \"./../../service/complexFractionService.js\";\r\nimport NumberUtils from \"./../../utils/numberUtils\";\r\nimport ArrayUtils from \"./../../utils/arrayUtils\";\r\n\r\nexport default class GameController {\r\n  init(content, model) {\r\n    this.content = content;\r\n    this.model = model;\r\n\r\n    this.observeProperFractionBlock();\r\n    this.generateGame();\r\n    this.submitAnswer();\r\n  }\r\n\r\n  generateGame() {\r\n    let cfService = new ComplexFractionService(),\r\n      game = NumberUtils.getRandomInteger(1, 4),\r\n      gameSettings = {};\r\n\r\n    switch (game) {\r\n      case 1:\r\n        gameSettings.gameName = \"double it\";\r\n        this.model.setGameName(\"double it\");\r\n        this.model.setComplexFractions(\r\n          cfService.generateComplexFractions(\"double it\")\r\n        );\r\n        break;\r\n      case 2:\r\n        this.model.setGameName(\"tripple it\");\r\n        this.model.setComplexFractions(\r\n          cfService.generateComplexFractions(\"tripple it\")\r\n        );\r\n        break;\r\n      case 3:\r\n        this.model.setGameName(\"find one-half\");\r\n        this.model.setComplexFractions(\r\n          cfService.generateComplexFractions(\"find one-half\")\r\n        );\r\n        break;\r\n      case 4:\r\n        this.model.setGameName(\"find one-third\");\r\n        this.model.setComplexFractions(\r\n          cfService.generateComplexFractions(\"find one-third\")\r\n        );\r\n        break;\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  makeProperFractionDraggable(properFractionDOM, properFraction) {\r\n    const self = this,\r\n      dragabillySetting = { grid: [1, 1] },\r\n      pfDraggable = new Draggabilly(properFractionDOM, dragabillySetting);\r\n    pfDraggable.on(\"dragEnd\", function(event, pointer) {\r\n      self.isPFinAnswerBlock(pointer, this);\r\n    });\r\n    pfDraggable.on(\"staticClick\", function(event, pointer) {\r\n      self.isDragStartInAnswerBlock(pointer, this);\r\n    });\r\n\r\n    return pfDraggable;\r\n  }\r\n\r\n  isDragStartInAnswerBlock(pointer, pfDraggable) {\r\n    const self = this,\r\n      inputBlockRect = $(\".answerBlock\")[0].getBoundingClientRect();\r\n    if (\r\n      pointer.pageX >= inputBlockRect.left + pageXOffset &&\r\n      pointer.pageX <= inputBlockRect.right + pageXOffset &&\r\n      (pointer.pageY >= inputBlockRect.top + pageYOffset &&\r\n        pointer.pageY <= inputBlockRect.bottom + pageYOffset)\r\n    ) {\r\n      pfDraggable.$element.remove();\r\n      self.findSum();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  isPFinAnswerBlock(pointer, pfDraggable) {\r\n    const self = this,\r\n      inputBlockRect = $(\".answerBlock\")[0].getBoundingClientRect();\r\n    if (\r\n      pointer.pageX >= inputBlockRect.left + pageXOffset &&\r\n      pointer.pageX <= inputBlockRect.right + pageXOffset &&\r\n      (pointer.pageY >= inputBlockRect.top + pageYOffset &&\r\n        pointer.pageY <= inputBlockRect.bottom + pageYOffset)\r\n    ) {\r\n      self.model.setPFinAnswerBlock(pfDraggable);\r\n      pfDraggable.disable();\r\n      self.findSum();\r\n      return true;\r\n    } else {\r\n      if ($(\".properFractionsBlock\")[0].contains(pfDraggable.element)) {\r\n        self.model.setPFinProperFractionBlock(pfDraggable);\r\n      } else {\r\n        self.model.setPFinAnswerBlock(pfDraggable);\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  observeProperFractionBlock() {\r\n    let self = this;\r\n    $(\".properFractionsBlock\").on(\"DOMNodeInserted\", \"canvas\", function(event) {\r\n      const pfDOM = $(event.target).parent()[0];\r\n      const properFraction = {\r\n        integer: +pfDOM.getAttribute(\"data-integer\"),\r\n        numerator: +pfDOM.getAttribute(\"data-numerator\"),\r\n        denominator: +pfDOM.getAttribute(\"data-denominator\")\r\n      };\r\n      self.makeProperFractionDraggable(pfDOM, properFraction);\r\n    });\r\n  }\r\n\r\n  findSum() {\r\n    let pfAnswer = $(\".answerBlock div\"),\r\n      properFractions = [],\r\n      commonDenominator,\r\n      numeratorsSum = 0,\r\n      integersSum = 0,\r\n      denominatorMultiples = [],\r\n      result = {};\r\n\r\n    if (!pfAnswer.length) {\r\n      this.model.setUserAnswer(false);\r\n      return false;\r\n    }\r\n\r\n    for (let i = 0; i < pfAnswer.length; i++) {\r\n      properFractions.push({\r\n        integer: +pfAnswer[i].getAttribute(\"data-integer\"),\r\n        numerator: +pfAnswer[i].getAttribute(\"data-numerator\"),\r\n        denominator: +pfAnswer[i].getAttribute(\"data-denominator\")\r\n      });\r\n    }\r\n\r\n    if (properFractions.length === 1) {\r\n      result.integer = properFractions[0].integer;\r\n      result.numerator = properFractions[0].numerator;\r\n      result.denominator = properFractions[0].denominator;\r\n    } else {\r\n      properFractions.forEach(pf => {\r\n        denominatorMultiples.push(\r\n          ArrayUtils.arrayToMap(NumberUtils.findMultiples(pf.denominator))\r\n        );\r\n      });\r\n\r\n      commonDenominator = NumberUtils.findLowestCommonDenominator(\r\n        denominatorMultiples\r\n      );\r\n\r\n      properFractions.forEach(pf => {\r\n        pf.numerator *= commonDenominator / pf.denominator;\r\n        pf.denominator = commonDenominator;\r\n        numeratorsSum += pf.numerator;\r\n        integersSum += pf.integer;\r\n      });\r\n\r\n      result.denominator = commonDenominator;\r\n      if (numeratorsSum >= commonDenominator) {\r\n        result.integer = Math.floor(numeratorsSum / commonDenominator);\r\n        result.numerator = numeratorsSum - result.integer * commonDenominator;\r\n        result.integer += integersSum;\r\n      } else {\r\n        result.integer = integersSum;\r\n        result.numerator = numeratorsSum;\r\n      }\r\n    }\r\n\r\n    this.model.setUserAnswer(result);\r\n    return result;\r\n  }\r\n\r\n  checkAnswer(complexFraction) {\r\n    var cf = new ComplexFractionService(),\r\n      answer = this.model.getUserAnswer(),\r\n      gameName = this.model.getGameName(),\r\n      result;\r\n\r\n    switch (gameName) {\r\n      case \"double it\":\r\n        result = cf.multiplyComplexFraction(complexFraction, 2);\r\n        break;\r\n      case \"tripple it\":\r\n        result = cf.multiplyComplexFraction(complexFraction, 3);\r\n        break;\r\n      case \"find one-half\":\r\n        result = cf.divideComplexFraction(complexFraction, 2);\r\n        break;\r\n      case \"find one-third\":\r\n        result = cf.divideComplexFraction(complexFraction, 3);\r\n        break;\r\n      default:\r\n        return false;\r\n    }\r\n\r\n    if (\r\n      answer.integer === result.integer &&\r\n      answer.numerator === result.numerator &&\r\n      answer.denominator === result.denominator\r\n    ) {\r\n      this.model.setIsAnswerCorrect(true);\r\n    } else {\r\n      this.model.setIsAnswerCorrect(false);\r\n    }\r\n  }\r\n\r\n  submitAnswer() {\r\n    let self = this;\r\n    if (document.contains($(\".submitAnswer\")[0])) {\r\n      $(\".submitAnswer\")[0].addEventListener(\"click\", function() {\r\n        self.checkAnswer(self.model.getCurrentComplexFraction());\r\n      });\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/gameController.js","/*!\n * Draggabilly v2.2.0\n * Make that shiz draggable\n * https://draggabilly.desandro.com\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'get-size/get-size',\n        'unidragger/unidragger'\n      ],\n      function( getSize, Unidragger ) {\n        return factory( window, getSize, Unidragger );\n      });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size'),\n      require('unidragger')\n    );\n  } else {\n    // browser global\n    window.Draggabilly = factory(\n      window,\n      window.getSize,\n      window.Unidragger\n    );\n  }\n\n}( window, function factory( window, getSize, Unidragger ) {\n\n'use strict';\n\n// -------------------------- helpers & variables -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nfunction noop() {}\n\nvar jQuery = window.jQuery;\n\n// --------------------------  -------------------------- //\n\nfunction Draggabilly( element, options ) {\n  // querySelector if string\n  this.element = typeof element == 'string' ?\n    document.querySelector( element ) : element;\n\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  this._create();\n}\n\n// inherit Unidragger methods\nvar proto = Draggabilly.prototype = Object.create( Unidragger.prototype );\n\nDraggabilly.defaults = {\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  extend( this.options, opts );\n};\n\n// css position values that don't need to be set\nvar positionValues = {\n  relative: true,\n  absolute: true,\n  fixed: true\n};\n\nproto._create = function() {\n  // properties\n  this.position = {};\n  this._getPosition();\n\n  this.startPoint = { x: 0, y: 0 };\n  this.dragPoint = { x: 0, y: 0 };\n\n  this.startPosition = extend( {}, this.position );\n\n  // set relative positioning\n  var style = getComputedStyle( this.element );\n  if ( !positionValues[ style.position ] ) {\n    this.element.style.position = 'relative';\n  }\n\n  // events, bridge jQuery events from vanilla\n  this.on( 'pointerDown', this.onPointerDown );\n  this.on( 'pointerMove', this.onPointerMove );\n  this.on( 'pointerUp', this.onPointerUp );\n\n  this.enable();\n  this.setHandles();\n};\n\n/**\n * set this.handles and bind start events to 'em\n */\nproto.setHandles = function() {\n  this.handles = this.options.handle ?\n    this.element.querySelectorAll( this.options.handle ) : [ this.element ];\n\n  this.bindHandles();\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = [ event ].concat( args );\n  this.emitEvent( type, emitArgs );\n  this.dispatchJQueryEvent( type, event, args );\n};\n\nproto.dispatchJQueryEvent = function( type, event, args ) {\n  var jQuery = window.jQuery;\n  // trigger jQuery event\n  if ( !jQuery || !this.$element ) {\n    return;\n  }\n  // create jQuery event\n  var $event = jQuery.Event( event );\n  $event.type = type;\n  this.$element.trigger( $event, args );\n};\n\n// -------------------------- position -------------------------- //\n\n// get x/y position from style\nproto._getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var x = this._getPositionCoord( style.left, 'width' );\n  var y = this._getPositionCoord( style.top, 'height' );\n  // clean up 'auto' or other non-integer values\n  this.position.x = isNaN( x ) ? 0 : x;\n  this.position.y = isNaN( y ) ? 0 : y;\n\n  this._addTransformPosition( style );\n};\n\nproto._getPositionCoord = function( styleSide, measure ) {\n  if ( styleSide.indexOf('%') != -1 ) {\n    // convert percent into pixel for Safari, #75\n    var parentSize = getSize( this.element.parentNode );\n    // prevent not-in-DOM element throwing bug, #131\n    return !parentSize ? 0 :\n      ( parseFloat( styleSide ) / 100 ) * parentSize[ measure ];\n  }\n  return parseInt( styleSide, 10 );\n};\n\n// add transform: translate( x, y ) to position\nproto._addTransformPosition = function( style ) {\n  var transform = style.transform;\n  // bail out if value is 'none'\n  if ( transform.indexOf('matrix') !== 0 ) {\n    return;\n  }\n  // split matrix(1, 0, 0, 1, x, y)\n  var matrixValues = transform.split(',');\n  // translate X value is in 12th or 4th position\n  var xIndex = transform.indexOf('matrix3d') === 0 ? 12 : 4;\n  var translateX = parseInt( matrixValues[ xIndex ], 10 );\n  // translate Y value is in 13th or 5th position\n  var translateY = parseInt( matrixValues[ xIndex + 1 ], 10 );\n  this.position.x += translateX;\n  this.position.y += translateY;\n};\n\n// -------------------------- events -------------------------- //\n\nproto.onPointerDown = function( event, pointer ) {\n  this.element.classList.add('is-pointer-down');\n  this.dispatchJQueryEvent( 'pointerDown', event, [ pointer ] );\n};\n\n/**\n * drag start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this._getPosition();\n  this.measureContainment();\n  // position _when_ drag began\n  this.startPosition.x = this.position.x;\n  this.startPosition.y = this.position.y;\n  // reset left/top style\n  this.setLeftTop();\n\n  this.dragPoint.x = 0;\n  this.dragPoint.y = 0;\n\n  this.element.classList.add('is-dragging');\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n  // start animation\n  this.animate();\n};\n\nproto.measureContainment = function() {\n  var container = this.getContainer();\n  if ( !container ) {\n    return;\n  }\n\n  var elemSize = getSize( this.element );\n  var containerSize = getSize( container );\n  var elemRect = this.element.getBoundingClientRect();\n  var containerRect = container.getBoundingClientRect();\n\n  var borderSizeX = containerSize.borderLeftWidth + containerSize.borderRightWidth;\n  var borderSizeY = containerSize.borderTopWidth + containerSize.borderBottomWidth;\n\n  var position = this.relativeStartPosition = {\n    x: elemRect.left - ( containerRect.left + containerSize.borderLeftWidth ),\n    y: elemRect.top - ( containerRect.top + containerSize.borderTopWidth )\n  };\n\n  this.containSize = {\n    width: ( containerSize.width - borderSizeX ) - position.x - elemSize.width,\n    height: ( containerSize.height - borderSizeY ) - position.y - elemSize.height\n  };\n};\n\nproto.getContainer = function() {\n  var containment = this.options.containment;\n  if ( !containment ) {\n    return;\n  }\n  var isElement = containment instanceof HTMLElement;\n  // use as element\n  if ( isElement ) {\n    return containment;\n  }\n  // querySelector if string\n  if ( typeof containment == 'string' ) {\n    return document.querySelector( containment );\n  }\n  // fallback to parent element\n  return this.element.parentNode;\n};\n\n// ----- move event ----- //\n\nproto.onPointerMove = function( event, pointer, moveVector ) {\n  this.dispatchJQueryEvent( 'pointerMove', event, [ pointer, moveVector ] );\n};\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  var dragX = moveVector.x;\n  var dragY = moveVector.y;\n\n  var grid = this.options.grid;\n  var gridX = grid && grid[0];\n  var gridY = grid && grid[1];\n\n  dragX = applyGrid( dragX, gridX );\n  dragY = applyGrid( dragY, gridY );\n\n  dragX = this.containDrag( 'x', dragX, gridX );\n  dragY = this.containDrag( 'y', dragY, gridY );\n\n  // constrain to axis\n  dragX = this.options.axis == 'y' ? 0 : dragX;\n  dragY = this.options.axis == 'x' ? 0 : dragY;\n\n  this.position.x = this.startPosition.x + dragX;\n  this.position.y = this.startPosition.y + dragY;\n  // set dragPoint properties\n  this.dragPoint.x = dragX;\n  this.dragPoint.y = dragY;\n\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nfunction applyGrid( value, grid, method ) {\n  method = method || 'round';\n  return grid ? Math[ method ]( value / grid ) * grid : value;\n}\n\nproto.containDrag = function( axis, drag, grid ) {\n  if ( !this.options.containment ) {\n    return drag;\n  }\n  var measure = axis == 'x' ? 'width' : 'height';\n\n  var rel = this.relativeStartPosition[ axis ];\n  var min = applyGrid( -rel, grid, 'ceil' );\n  var max = this.containSize[ measure ];\n  max = applyGrid( max, grid, 'floor' );\n  return  Math.max( min, Math.min( max, drag ) );\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.onPointerUp = function( event, pointer ) {\n  this.element.classList.remove('is-pointer-down');\n  this.dispatchJQueryEvent( 'pointerUp', event, [ pointer ] );\n};\n\n/**\n * drag end\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  // use top left position when complete\n  this.element.style.transform = '';\n  this.setLeftTop();\n  this.element.classList.remove('is-dragging');\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\n// -------------------------- animation -------------------------- //\n\nproto.animate = function() {\n  // only render and animate if dragging\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.positionDrag();\n\n  var _this = this;\n  requestAnimationFrame( function animateFrame() {\n    _this.animate();\n  });\n\n};\n\n// left/top positioning\nproto.setLeftTop = function() {\n  this.element.style.left = this.position.x + 'px';\n  this.element.style.top  = this.position.y + 'px';\n};\n\nproto.positionDrag = function() {\n  this.element.style.transform = 'translate3d( ' + this.dragPoint.x +\n    'px, ' + this.dragPoint.y + 'px, 0)';\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  this.dispatchEvent( 'staticClick', event, [ pointer ] );\n};\n\n// ----- methods ----- //\n\n/**\n * @param {Number} x\n * @param {Number} y\n */\nproto.setPosition = function( x, y ) {\n  this.position.x = x;\n  this.position.y = y;\n  this.setLeftTop();\n};\n\nproto.enable = function() {\n  this.isEnabled = true;\n};\n\nproto.disable = function() {\n  this.isEnabled = false;\n  if ( this.isDragging ) {\n    this.dragEnd();\n  }\n};\n\nproto.destroy = function() {\n  this.disable();\n  // reset styles\n  this.element.style.transform = '';\n  this.element.style.left = '';\n  this.element.style.top = '';\n  this.element.style.position = '';\n  // unbind handles\n  this.unbindHandles();\n  // remove jQuery data\n  if ( this.$element ) {\n    this.$element.removeData('draggabilly');\n  }\n};\n\n// ----- jQuery bridget ----- //\n\n// required for jQuery bridget\nproto._init = noop;\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'draggabilly', Draggabilly );\n}\n\n// -----  ----- //\n\nreturn Draggabilly;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/draggabilly/draggabilly.js\n// module id = 8\n// module chunks = 0","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/get-size/get-size.js\n// module id = 9\n// module chunks = 0","/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n'use strict';\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/unidragger/unidragger.js\n// module id = 10\n// module chunks = 0","/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n'use strict';\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/unipointer/unipointer.js\n// module id = 11\n// module chunks = 0","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ev-emitter/ev-emitter.js\n// module id = 12\n// module chunks = 0","export default class ArrayUtils {\r\n  static arrayToMap(array) {\r\n    const map = new Map();\r\n    array.forEach(element => {\r\n      if (map.has(element)) {\r\n        map.set(element, map.get(element) + 1);\r\n      } else {\r\n        map.set(element, 1);\r\n      }\r\n    });\r\n    return map;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/arrayUtils.js"],"sourceRoot":""}